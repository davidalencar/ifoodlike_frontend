<div class="list-group list-group-flush" *ngFor="let p of storeService.basketProductsWithItems()">
    <div class="list-group-item productName"   >
        <h4 >{{ p.name }} </h4>
    </div>
    <div *ngFor="let category of storeService.orderProductItemsCategory(p.items)"  >
        <div class="list-group-item  bg-light">
            <h4>{{ category.name }} </h4>
        </div>
        <div *ngFor="let item of storeService.orderProductItemsByName(category.products)">
            <div class="list-group-item">
                <div class="d-flex w-100 justify-content-between">
                    <div>
                        <h5 class="mb-1">{{ item.name }}</h5>                        
                        <small *ngIf= "item.price > 0">{{ storeService.formatPrice(item.price) }}</small>
                    </div>
                    <div class="d-flex flex-column justify-content-between">
                        <div class="col-12">
                            <div *ngIf="item.maxQty > 1 else elseBlock" class="btn-group itemcontrol" role="group"
                                aria-label="Basic example">
                                <button type="button" class="btn" (click)="onSubtract(item)"><i
                                        class="ri-indeterminate-circle-fill ri-lg"></i></button>
                                <button type="button" class="btn"><span>{{ item.qty }} </span></button>
                                <button type="button" class="btn" (click)="onAdd(item)"><i
                                        class="ri-add-circle-fill ri-lg"></i></button>
                            </div>
                            <ng-template #elseBlock>
                                <input  class="form-check-input checkbox-lg" type="checkbox" (change)="checkValue($event, item)" [checked]="item.qty > 0" />
                            </ng-template>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</div>
<br>
<br>
<br>
<nav class="navbar fixed-bottom navbar-expand-lg  navbar-light bg-light">
    <div class="container">
        <a [routerLink]="['/', storeService.store.name]" class="btn btn-success">
            Comprar mais
        </a>
        <button class="btn btn-lg btn-success" [routerLink]="['/', storeService.store.name, 'bill']"
            [disabled]="!storeService.hasProductsOnBasket()">
            Fechar pedido
        </button>
    </div>
</nav>